# tcp/udp 区别

- tcp提供可靠交付 无差错、不丢失、不重复、按序到达,udp继承IP包的特性，不保证不丢失，不保证按序达到
- tcp面向字节流，ucp基于数据报
- tcp有用拥塞控制，ucp没有
- tcp是有状态服务，udp无状态

# tcp/udp 报头

16位源端口号  16位目标端口号
16位UDP长度   16位UDP校验和
          数据
          
          
16位源端口号  16位目标端口号
          32位序号
        32位确认序号
4位首部长度 6位保留 URG/ACK/PSH/RST/SYN/FIN  16位窗口大小
16位校验和 16位紧急指针
          选项
          数据
          
# TCP三次握手

- tcp服务器进程先创建传输控制块TCB，时刻准备客户端连接请求，此时服务器进入LISTEN状态
- tcp客户进程也是先创建传输控制块TCB，然后向服务器发送连接请求报文，这是报文首部中的同步位SYN=1，同时选择一个初始序列号
seq=x, 此时客户端进程进入
- 

# TCP四次握手

# 流量控制与拥塞控制实现机制

- tcp通过大小可变的滑动窗口机制实现流量控制，窗口大小是字节。在tcp报文段首部写入的数值就是当前给发送方设置的发送上限
在数据传输过程中，tcp提供了一种基于滑动窗口协议的流量控制机制，用接收端接受能力的大小来控制发送端发送的数据量

- 采用滑动窗口还可对网络进行拥塞控制，将网络中的分组（tcp报文段作为其数据部分）数量维持在一定的数量之下，当超过改数值时
网络性能急剧恶化。传输层的拥塞控制有 慢开始、拥塞避免、快重传、快恢复四种算法

拥塞：大量数据报到达涌入同一交换节点，导致该节点资源耗尽必须丢弃后面到达的数据报就是拥塞

# 重传机制


# 滑动窗口机制

# 多线程如何同步

